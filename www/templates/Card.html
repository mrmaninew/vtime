<ion-view title="Time Card">
    <ion-content>
        <div class="list">
            <label class="item item-input">
                <input type="date" placeholder="Date" ng-model="tc.passDate">
            </label>
            <label class="item item-input item-floating-label">
                <span class="input-label">Hours</span>
                <input type="number" placeholder="Hours" ng-model="tc.hours" required ng-required="true" min="0" max="24" value="0">
            </label>
            <label class="item item-input item-select">
                <span class="input-label">
                    <h3>Customer</h3>
                </span>
                <select ng-model="tc.u_customer" ng-change="getProjectsForCustomer(tc.u_customer)">
                    <option ng-repeat="customer in customers" value="{{customer.sys_id}}">
                        {{customer.name}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    <h3>Project</h3>
                </div>
                <select ng-model="tc.u_project" ng-change="getResourcePlans(tc.u_project)">
                    <option ng-repeat="project in projects" value="{{project.sys_id}}" required ng-required="true">
                        {{project.short_description}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    <h3>Resource Plan</h3>
                </div>
                <select ng-model="tc.resource_plan">
                    <option ng-repeat="rplan in resource_plan" value="{{rplan.sys_id}}">
                        {{rplan.number}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    <h3>Story</h3>
                </div>
                <select ng-model="tc.story">
                    <option ng-repeat="story in stories" value="{{story.sys_id}}">
                        {{story.number}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    <h3>Task</h3>
                </div>
                <select ng-model="tc.task">
                    <option ng-repeat="task in tasks" value="{{task.sys_id}}">
                        {{task.number}}
                    </option>
                </select>
            </label>
            <label class="item item-input item-select">
                <div class="input-label">
                    <h3>Category</h3>
                </div>
                <select ng-model="tc.category" ng-required="true">
                    <option ng-repeat="item in category" value="{{item.value}}">
                        {{item.name}}
                    </option>
                </select>
            </label>
            <ion-checkbox ng-model="tc.u_billable">Billable</ion-checkbox>
            <label class="item item-input">
                <textarea rows="3" placeholder="Notes" ng-model="tc.comments"></textarea>
            </label>
        </div>
    </ion-content>
    <ion-footer-bar class="bar bar-dark">
        <div class="button-bar">
            <button class="button button-dark" ng-click="saveTC()" ng-disabled="!tc.hours || !tc.u_project || !tc.category">Save</button>
            <button class="button button-dark" ng-click="resetTC()">Reset</button>
        </div>
    </ion-footer-bar>
</ion-view>
